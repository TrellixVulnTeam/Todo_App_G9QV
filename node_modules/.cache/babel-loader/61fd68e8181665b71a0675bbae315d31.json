{"ast":null,"code":"var _jsxFileName = \"/Users/yomnaali/Documents/Thetodo/Todo_App/src/components/Navbar.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Image from './api/Image';\nimport { useHistory } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Navbar() {\n  _s();\n\n  const loggedUserInfo = localStorage.getItem('UserData');\n  const user = JSON.parse(loggedUserInfo);\n  const token = localStorage.getItem('Token');\n  const loginToken = localStorage.getItem('LoginToken');\n  const url = 'https://api-nodejs-todolist.herokuapp.com/user/logout';\n  const deleteUserURL = 'https://api-nodejs-todolist.herokuapp.com/user/me';\n  const history = useHistory();\n\n  const logout = async e => {\n    e.preventDefault();\n\n    try {\n      const response = await fetch(url, {\n        method: 'POST',\n        headers: {\n          Authorization: loginToken\n        }\n      });\n      const deleteToken = localStorage.removeItem('LoginToken');\n      const deleteRegistrationToken = localStorage.removeItem('Token');\n      const backToLoginPage = history.push('/login');\n      return deleteToken, deleteRegistrationToken, backToLoginPage;\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const deleteUser = async e => {\n    e.preventDefault();\n\n    try {\n      const response = await fetch(deleteUserURL, {\n        method: 'DELETE',\n        headers: {\n          Authorization: 'Bearer ' + loginToken\n        }\n      });\n      const result = await response.text();\n      const deleteUserData = localStorage.removeItem('UserData');\n      const deleteToken = localStorage.removeItem(token);\n      const deleteLoginToken = localStorage.removeItem('LoginToken');\n      const backToRegistration = history.push('/');\n      console.log(result);\n      return deleteToken, deleteLoginToken, deleteUserData, backToRegistration;\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"nav\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Welcome to your Todos, \", user[\"name\"]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Image, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"Menu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          onClick: logout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          onClick: deleteUser,\n          children: \"Delete Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          onClick: () => history.push('/info'),\n          children: \"Your Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Navbar, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});\n\n_c = Navbar;\n\nvar _c;\n\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"sources":["/Users/yomnaali/Documents/Thetodo/Todo_App/src/components/Navbar.js"],"names":["React","Image","useHistory","Navbar","loggedUserInfo","localStorage","getItem","user","JSON","parse","token","loginToken","url","deleteUserURL","history","logout","e","preventDefault","response","fetch","method","headers","Authorization","deleteToken","removeItem","deleteRegistrationToken","backToLoginPage","push","err","console","error","deleteUser","result","text","deleteUserData","deleteLoginToken","backToRegistration","log"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Image from './api/Image';\r\nimport { useHistory } from 'react-router';\r\n\r\n\r\nexport default function Navbar() {\r\n\r\n    const loggedUserInfo = localStorage.getItem('UserData')\r\n\r\n    const user = JSON.parse(loggedUserInfo);\r\n\r\n    const token = localStorage.getItem('Token')\r\n\r\n    const loginToken = localStorage.getItem('LoginToken')\r\n\r\n    const url = 'https://api-nodejs-todolist.herokuapp.com/user/logout'\r\n\r\n    const deleteUserURL = 'https://api-nodejs-todolist.herokuapp.com/user/me'\r\n\r\n    const history = useHistory()\r\n\r\n    const logout = async(e)=> {\r\n        e.preventDefault()\r\n           try{\r\n            const response = await fetch(url, {\r\n                method: 'POST', \r\n                headers: { Authorization: loginToken}\r\n            })\r\n            const deleteToken = localStorage.removeItem('LoginToken')\r\n            const deleteRegistrationToken = localStorage.removeItem('Token')\r\n            const backToLoginPage = history.push('/login')\r\n            return ( deleteToken, deleteRegistrationToken,\r\n                backToLoginPage )\r\n        } catch(err){\r\n            console.error(err)\r\n        }\r\n    }\r\n\r\n    const deleteUser = async(e)=> {\r\n        e.preventDefault()\r\n           try{\r\n            const response = await fetch(deleteUserURL, {\r\n                method: 'DELETE', \r\n                headers: { Authorization: 'Bearer ' + loginToken},\r\n            })\r\n            const result = await response.text()\r\n            const deleteUserData = localStorage.removeItem('UserData')\r\n            const deleteToken = localStorage.removeItem(token)\r\n            const deleteLoginToken = localStorage.removeItem('LoginToken')\r\n            const backToRegistration = history.push('/')\r\n            console.log(result)\r\n            return(deleteToken,deleteLoginToken, deleteUserData, backToRegistration)\r\n        } catch(err){\r\n            console.error(err)\r\n        }\r\n    }\r\n\r\n    return (\r\n    <div>\r\n        <nav>\r\n            <label>Welcome to your Todos, {user[\"name\"]}</label>\r\n            <Image/>\r\n            <select>\r\n                <option>Menu</option>\r\n                <option onClick={logout}>Logout</option>\r\n                <option onClick={deleteUser}>Delete Account</option>\r\n                <option onClick={() => history.push('/info')}>Your Account</option>\r\n                </select>\r\n                </nav>\r\n                </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}